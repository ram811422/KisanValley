<!DOCTYPE html>
<html lang="en">
<!-- ... your head section ... -->
<!-- cart.html -->
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Your Cart | KisanValley</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- PASTE THE NEW CSS CODE HERE -->
  <style>
    /* Keyframe Animations */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeOutDown {
      from {
        opacity: 1;
        transform: scale(1);
      }
      to {
        opacity: 0;
        transform: scale(0.95);
      }
    }
    
    @keyframes flash {
      0% { background-color: transparent; }
      25% { background-color: #d1fae5; } /* Light green flash */
      100% { background-color: transparent; }
    }

    /* Animation Classes */
    .item-enter {
      animation: fadeInUp 0.5s ease-out forwards;
    }

    .item-exit {
      animation: fadeOutDown 0.4s ease-in forwards;
    }
    
    .total-flash {
      animation: flash 0.7s ease-out;
    }

    /* Input Number Spinner Styling */
    input[type='number']::-webkit-inner-spin-button,
    input[type='number']::-webkit-outer-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
    input[type='number'] {
      -moz-appearance: textfield; /* For Firefox */
      text-align: center;
      font-weight: 600;
    }
  </style>
  <!-- END OF PASTED CODE -->

</head>

  <!-- Header -->
  <header class="bg-white shadow-md p-4 flex items-center justify-between">
    <!-- ... your header html ... -->
    <nav class="space-x-4">
      <a href="login.html" class="text-blue-600">Login</a>
      <a href="cart.html" class="text-blue-600 font-semibold cart-counter">Cart üõí</a>
    </nav>
  </header>

  <!-- Page Title -->
  <section class="bg-white shadow p-6 text-center">
    <h2 class="text-3xl font-bold">Your Shopping Cart</h2>
    <p class="text-gray-600 mt-2">Review your selected items and proceed to checkout</p>
  </section>

  <!-- Cart Section -->
  <!-- (PASTE THIS NEW CODE IN ITS PLACE) -->
<section class="py-8 px-4 sm:px-6">
    <!-- Main Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
      
      <!-- Cart Items (Left Side) -->
      <div id="cartContainer" class="lg:col-span-2 space-y-4">
        <!-- JS will inject cart items here -->
      </div>

      <!-- Cart Summary (Right Side) -->
      <div id="cartSummary" class="lg:col-span-1 hidden">
        <div class="bg-white rounded-lg shadow-md p-6 sticky top-8">
          <h3 class="text-xl font-bold mb-4 border-b pb-3">Order Summary</h3>
          <div class="space-y-3 mb-6">
            <div class="flex justify-between">
              <span>Subtotal</span>
              <span id="subtotalAmount" class="font-semibold">‚Çπ0</span>
            </div>
            <div class="flex justify-between text-gray-500">
              <span>Shipping</span>
              <span class="font-semibold">FREE</span>
            </div>
          </div>
          <div class="flex justify-between font-bold text-lg border-t pt-4">
            <span>Total</span>
            <span id="totalAmount" class="text-green-700">‚Çπ0</span>
          </div>
          <button class="w-full mt-6 bg-green-600 text-white font-bold py-3 rounded-lg hover:bg-green-700 transform hover:scale-105 transition-transform duration-200">
            Proceed to Checkout
          </button>
        </div>
      </div>
    </div>

    <!-- Empty Cart Message -->
    <div id="emptyMessage" class="text-center text-gray-500 mt-12 hidden">
        <svg class="mx-auto h-24 w-24 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
          <path vector-effect="non-scaling-stroke" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
        </svg>
        <h3 class="mt-2 text-xl font-semibold text-gray-800">Your cart is empty</h3>
        <p class="mt-1 text-gray-500">Looks like you haven't added anything to your cart yet.</p>
        <div class="mt-6">
          <a href="index.html" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700">
            ‚Üê Continue Shopping
          </a>
        </div>
    </div>
</section>
<!-- (END OF NEW CODE) -->
<body class="bg-gray-100">
  <!-- ... your main content ... -->

  <!-- ... your footer ... -->
   <!-- START of the New Modern Footer -->
<footer class="bg-gray-800 text-white" aria-labelledby="footer-heading">
  <h2 id="footer-heading" class="sr-only">Footer</h2>
  <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8">
    <div class="xl:grid xl:grid-cols-3 xl:gap-8">
      
      <!-- Logo and Mission Section -->
      <div class="space-y-8 xl:col-span-1">
        <div class="flex items-center">
          <img class="h-10 w-auto" src="images/kv.png" alt="KisanValley Logo">
          <span class="ml-3 text-2xl font-bold">KisanValley</span>
        </div>
        <p class="text-gray-400 text-base">
          Your trusted partner for high-quality agricultural machinery. Empowering farmers with technology and support.
        </p>
        
        <!-- Social Media Icons -->
        <div class="flex space-x-6">
          <a href="#" class="text-gray-400 hover:text-white">
            <span class="sr-only">Facebook</span>
            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" />
            </svg>
          </a>

          <a href="#" class="text-gray-400 hover:text-white">
            <span class="sr-only">Instagram</span>
            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.013-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 016.08 2.525c.636-.247 1.363-.416 2.427-.465C9.53 2.013 9.884 2 12.315 2zM12 7a5 5 0 100 10 5 5 0 000-10zm0-2a7 7 0 110 14 7 7 0 010-14zm6.406-1.185a1.25 1.25 0 100 2.5 1.25 1.25 0 000-2.5z" clip-rule="evenodd" />
            </svg>
          </a>

          <a href="#" class="text-gray-400 hover:text-white">
            <span class="sr-only">YouTube</span>
             <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path fill-rule="evenodd" d="M19.812 5.418c.861.23 1.538.907 1.768 1.768C21.998 8.78 22 12 22 12s0 3.22-.42 4.814c-.23.861-.907 1.538-1.768 1.768C18.219 19 12 19 12 19s-6.219 0-7.812-1.418c-.861-.23-1.538-.907-1.768-1.768C2.002 15.22 2 12 2 12s0-3.22.42-4.814c.23-.861.907-1.538 1.768-1.768C5.781 5 12 5 12 5s6.219 0 7.812.418zM9.996 15.002l5.207-3.002-5.207-3v6.002z" clip-rule="evenodd" />
            </svg>
          </a>
        </div>
      </div>

      <!-- Links Sections -->
      <div class="mt-12 grid grid-cols-2 gap-8 xl:mt-0 xl:col-span-2">
        <div class="md:grid md:grid-cols-2 md:gap-8">
          <div>
            <h3 class="text-sm font-semibold text-gray-200 tracking-wider uppercase">Quick Links</h3>
            <ul role="list" class="mt-4 space-y-4">
              <li><a href="index.html" class="text-base text-gray-400 hover:text-white">Home</a></li>
              <li><a href="index.html#products" class="text-base text-gray-400 hover:text-white">Products</a></li>
              <li><a href="#" class="text-base text-gray-400 hover:text-white">About Us</a></li>
            </ul>
          </div>
          <div class="mt-12 md:mt-0">
            <h3 class="text-sm font-semibold text-gray-200 tracking-wider uppercase">Categories</h3>
            <ul role="list" class="mt-4 space-y-4">
              <li><a href="weeder-tiller.html" class="text-base text-gray-400 hover:text-white">Weeders & Tillers</a></li>
              <li><a href="brush-cutters.html" class="text-base text-gray-400 hover:text-white">Brush Cutters</a></li>
              <li><a href="#" class="text-base text-gray-400 hover:text-white">Water Pumps</a></li>
            </ul>
          </div>
        </div>
        <div class="md:grid md:grid-cols-2 md:gap-8">
          <div>
            <h3 class="text-sm font-semibold text-gray-200 tracking-wider uppercase">Support</h3>
            <ul role="list" class="mt-4 space-y-4">
              <li><a href="#" class="text-base text-gray-400 hover:text-white">Contact</a></li>
              <li><a href="#" class="text-base text-gray-400 hover:text-white">FAQ</a></li>
              <li><a href="#" class="text-base text-gray-400 hover:text-white">Shipping Policy</a></li>
            </ul>
          </div>
          <div class="mt-12 md:mt-0">
            <h3 class="text-sm font-semibold text-gray-200 tracking-wider uppercase">Legal</h3>
            <ul role="list" class="mt-4 space-y-4">
              <li><a href="#" class="text-base text-gray-400 hover:text-white">Privacy Policy</a></li>
              <li><a href="#" class="text-base text-gray-400 hover:text-white">Terms of Service</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Bottom Bar -->
    <div class="mt-8 border-t border-gray-700 pt-8">
      <p class="text-base text-gray-400 text-center">&copy; 2025 KisanValley. All rights reserved.</p>
    </div>
  </div>
</footer>
<!-- END of the New Modern Footer -->
  
  <!-- JavaScript: Dynamic Cart Logic -->
 <!-- (PASTE THIS NEW SCRIPT AT THE BOTTOM OF YOUR FILE) -->
<script src="products.js"></script> <!-- To look up product details -->
<script src="cart.js"></script>     <!-- For shared functions like updateCartCounter -->
<script>
    const cartContainer = document.getElementById("cartContainer");
    const cartSummary = document.getElementById("cartSummary");
    const subtotalAmountEl = document.getElementById("subtotalAmount");
    const totalAmountEl = document.getElementById("totalAmount");
    const emptyMessage = document.getElementById("emptyMessage");

    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    function renderCart() {
      cartContainer.innerHTML = "";
      let subtotal = 0;

      if (cart.length === 0) {
        cartSummary.classList.add("hidden");
        emptyMessage.classList.remove("hidden");
        return;
      }

      emptyMessage.classList.add("hidden");
      cartSummary.classList.remove("hidden");

      cart.forEach((item, index) => {
        const product = allSiteProducts[item.id];
        if (!product) return;

        const itemTotal = product.price * item.quantity;
        subtotal += itemTotal;

        const card = document.createElement("div");
        card.className = "bg-white shadow-md rounded-lg flex items-center gap-4 p-4 item-enter";
        card.style.animationDelay = `${index * 100}ms`; // Staggered animation
        card.dataset.index = index; // Store index for removal animation

        card.innerHTML = `
          <img src="${product.image}" alt="${product.name}" class="w-24 h-24 sm:w-28 sm:h-28 object-cover rounded-md" />
          <div class="flex-1">
            <h4 class="font-bold text-md sm:text-lg">${product.name}</h4>
            <p class="text-green-600 font-semibold text-sm sm:text-base">‚Çπ${product.price.toLocaleString()}</p>
            <button onclick="removeItem(this, ${index})" class="text-red-500 hover:text-red-700 hover:underline text-xs sm:text-sm mt-2">Remove</button>
          </div>
          <div class="flex flex-col items-end gap-2">
            <div class="flex items-center border rounded-md">
                <button onclick="updateQty(${index}, ${item.quantity - 1})" class="px-2 py-1 text-gray-600 hover:bg-gray-100 rounded-l-md">-</button>
                <input type="number" min="1" value="${item.quantity}" class="w-12 border-l border-r p-1 text-center" onchange="updateQty(${index}, this.value)" />
                <button onclick="updateQty(${index}, ${item.quantity + 1})" class="px-2 py-1 text-gray-600 hover:bg-gray-100 rounded-r-md">+</button>
            </div>
            <p class="font-bold text-md sm:text-lg">‚Çπ${itemTotal.toLocaleString()}</p>
          </div>
        `;
        cartContainer.appendChild(card);
      });

      subtotalAmountEl.textContent = `‚Çπ${subtotal.toLocaleString()}`;
      totalAmountEl.textContent = `‚Çπ${subtotal.toLocaleString()}`;
      totalAmountEl.closest('.flex').classList.add('total-flash');
      setTimeout(() => {
          totalAmountEl.closest('.flex').classList.remove('total-flash');
      }, 700);
    }

    function updateQty(index, qty) {
      const newQty = parseInt(qty);
      if (newQty > 0) {
        cart[index].quantity = newQty;
      } else {
        const cardElement = document.querySelector(`[data-index='${index}']`);
        removeItem(cardElement.querySelector('button'), index);
        return;
      }
      localStorage.setItem("cart", JSON.stringify(cart));
      renderCart();
      updateCartCounter();
    }

    function removeItem(buttonElement, index) {
      const card = buttonElement.closest('.item-enter');
      card.classList.add('item-exit');

      setTimeout(() => {
        cart.splice(index, 1);
        localStorage.setItem("cart", JSON.stringify(cart));
        renderCart();
        updateCartCounter();
      }, 400);
    }

    renderCart();
</script>

</body>
</html>